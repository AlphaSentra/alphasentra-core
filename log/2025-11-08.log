2025-11-08 16:51:44,586 - ERROR - [ERR-0001] - [e003dc32] Failed to update insights collection | Exception: TypeError: upsert must be True or False, was: upsert={'$set': {'tag': 'trending ⇧'}} | From: trending.py:get_trending_instruments()
2025-11-08 17:36:02,926 - ERROR - [ERR-0001] - [f934b9af] Failed to update insights collection | Exception: WriteError: The array filter for identifier 'elem' was not used in the update { $set: { importance: 3, tag: { $cond: { if: { $or: [ { $eq: [ "$tag", null ] }, { $not: { $regexMatch: { input: "$tag", regex: ">trending ⇧" } } } ] }, then: { $concat: [ { $ifNull: [ "$tag", "" ] }, { $cond: [ { $eq: [ "$tag", null ] }, "", ", " ] }, ">trending ⇧" ] }, else: "$tag" } } } }, full error: {'index': 0, 'code': 9, 'errmsg': 'The array filter for identifier \'elem\' was not used in the update { $set: { importance: 3, tag: { $cond: { if: { $or: [ { $eq: [ "$tag", null ] }, { $not: { $regexMatch: { input: "$tag", regex: ">trending ⇧" } } } ] }, then: { $concat: [ { $ifNull: [ "$tag", "" ] }, { $cond: [ { $eq: [ "$tag", null ] }, "", ", " ] }, ">trending ⇧" ] }, else: "$tag" } } } }'} | From: trending.py:get_trending_instruments()
2025-11-08 17:37:21,294 - ERROR - [ERR-0001] - [db42b079] Failed to update insights collection | Exception: WriteError: Document failed validation, full error: {'index': 0, 'code': 121, 'errmsg': 'Document failed validation', 'errInfo': {'failingDocumentId': ObjectId('6905fc8023cc30dc62ba45ea'), 'details': {'operatorName': '$jsonSchema', 'schemaRulesNotSatisfied': [{'operatorName': 'properties', 'propertiesNotSatisfied': [{'propertyName': 'tag', 'details': [{'operatorName': 'bsonType', 'specifiedAs': {'bsonType': 'string'}, 'reason': 'type did not match', 'consideredValue': {'$cond': {'if': {'$or': [{'$eq': ['$tag', None]}, {'$not': {'$regexMatch': {'input': '$tag', 'regex': '>trending ⇧'}}}]}, 'then': {'$concat': [{'$ifNull': ['$tag', '']}, {'$cond': [{'$eq': ['$tag', None]}, '', ', ']}, '>trending ⇧']}, 'else': '$tag'}}, 'consideredType': 'object'}]}]}]}}} | From: trending.py:get_trending_instruments()
2025-11-08 17:38:10,283 - ERROR - [ERR-0001] - [0dc6012f] Failed to update insights collection | Exception: WriteError: Document failed validation, full error: {'index': 0, 'code': 121, 'errmsg': 'Document failed validation', 'errInfo': {'failingDocumentId': ObjectId('6905b6c832416606af1e2270'), 'details': {'operatorName': '$jsonSchema', 'schemaRulesNotSatisfied': [{'operatorName': 'properties', 'propertiesNotSatisfied': [{'propertyName': 'tag', 'details': [{'operatorName': 'bsonType', 'specifiedAs': {'bsonType': 'string'}, 'reason': 'type did not match', 'consideredValue': {'$cond': {'if': {'$or': [{'$eq': ['$tag', None]}, {'$not': {'$regexMatch': {'input': '$tag', 'regex': '>trending ⇧'}}}]}, 'then': {'$concat': [{'$ifNull': ['$tag', '']}, {'$cond': [{'$eq': ['$tag', None]}, '', ', ']}, '>trending ⇧']}, 'else': '$tag'}}, 'consideredType': 'object'}]}]}]}}} | From: trending.py:get_trending_instruments()
2025-11-08 20:03:21,325 - ERROR - [ERR-0001] - [fa8d4192] Process generated an exception for WDC | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:03:21,327 - ERROR - [ERR-0001] - [13c41fd7] Process generated an exception for HOOD | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:03:21,329 - ERROR - [ERR-0001] - [84fa9307] Process generated an exception for LINK-USD | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:03:21,334 - ERROR - [ERR-0001] - [4cba01f4] Process generated an exception for APP | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:03:21,790 - ERROR - [ERR-0001] - [8c2ec4a0] Process generated an exception for pipeline unflag_hcb_pipeline_task | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:03:22,506 - INFO - [INFO] - Batch cycle completed. Processed: 0 tickers, 0 pipelines. Remaining: 4 tickers, 1 pipelines
2025-11-08 20:04:55,317 - ERROR - [ERR-0001] - [a9177e93] Process generated an exception for WDC | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:04:55,320 - ERROR - [ERR-0001] - [1edc348a] Process generated an exception for HOOD | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:04:55,322 - ERROR - [ERR-0001] - [3226afc2] Process generated an exception for LINK-USD | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:04:55,323 - ERROR - [ERR-0001] - [976f6a90] Process generated an exception for APP | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:04:55,785 - ERROR - [ERR-0001] - [133f3572] Process generated an exception for pipeline unflag_hcb_pipeline_task | Exception: TypeError: cannot pickle 'SSLContext' object | From: batch_run.py:run_batch_processing()
2025-11-08 20:04:56,450 - INFO - [INFO] - Batch cycle completed. Processed: 0 tickers, 0 pipelines. Remaining: 4 tickers, 1 pipelines
2025-11-08 20:13:25,217 - WARNING - [ERR-0001] - [c4aec9e5] Attempting to extract JSON from text (length: 58315 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:25,219 - WARNING - [ERR-0001] - [f2b40748] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:25,220 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:13:25,814 - WARNING - [ERR-0001] - [640fb967] Attempting to extract JSON from text (length: 67193 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:25,816 - WARNING - [ERR-0001] - [2cae7909] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:25,817 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:13:51,328 - WARNING - [ERR-0001] - [04b7ad13] Attempting to extract JSON from text (length: 74399 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:51,331 - WARNING - [ERR-0001] - [742304de] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:13:51,332 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:13:51,625 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:13:51,628 - INFO - [INFO] - Market state - Net Order: 144, Sentiment: 0.6141, Price Change: 71.7645, New Price: 171.7645
2025-11-08 20:13:53,304 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['HOOD']
2025-11-08 20:13:54,605 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:13:54,606 - INFO - [INFO] - Market state - Net Order: 131, Sentiment: 0.2736, Price Change: 65.5975, New Price: 165.5975
2025-11-08 20:13:56,195 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['LINK-USD']
2025-11-08 20:14:14,040 - WARNING - [ERR-0001] - [98424098] Attempting to extract JSON from text (length: 40113 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:14:14,043 - WARNING - [ERR-0001] - [d401e993] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:14:14,043 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:14:18,117 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:14:18,118 - INFO - [INFO] - Market state - Net Order: 336, Sentiment: 0.7883, Price Change: 168.0194, New Price: 268.0194
2025-11-08 20:14:19,598 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['WDC']
2025-11-08 20:14:54,320 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:14:54,323 - INFO - [INFO] - Market state - Net Order: 90, Sentiment: 0.4359, Price Change: 44.9621, New Price: 144.9621
2025-11-08 20:14:55,506 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['APP']
2025-11-08 20:15:04,917 - INFO - [INFO] - Batch cycle completed. Processed: 4 tickers, 1 pipelines. Remaining: 0 tickers, 1 pipelines
2025-11-08 20:15:05,015 - INFO - [INFO] - Memory before cleanup: 2594.2 KB
2025-11-08 20:18:43,606 - INFO - [INFO] - Batch cycle completed. Processed: 0 tickers, 1 pipelines. Remaining: 0 tickers, 1 pipelines
2025-11-08 20:18:43,715 - INFO - [INFO] - Memory before cleanup: 2594.1 KB
2025-11-08 20:19:08,220 - INFO - [INFO] - Starting comprehensive dataset reset
2025-11-08 20:19:08,221 - INFO - [INFO] - Starting reset of document_generated field in tickers collection
2025-11-08 20:19:11,454 - INFO - [INFO] - Successfully updated 399 documents in tickers collection
2025-11-08 20:19:11,454 - INFO - [INFO] - Reset of document_generated field completed
2025-11-08 20:19:11,455 - INFO - [INFO] - Starting reset of task_completed field in pipeline collection
2025-11-08 20:19:12,748 - INFO - [INFO] - Successfully updated 1 documents in pipeline collection
2025-11-08 20:19:12,749 - INFO - [INFO] - Reset of task_completed field completed
2025-11-08 20:19:12,749 - INFO - [INFO] - Starting deletion of tickers with recurrence 'once'
2025-11-08 20:19:13,037 - INFO - [INFO] - Successfully deleted 8 documents with recurrence 'once' from tickers collection
2025-11-08 20:19:13,037 - INFO - [INFO] - Deletion of once tickers completed
2025-11-08 20:19:13,038 - INFO - [INFO] - Starting deletion of pipeline documents with recurrence 'once'
2025-11-08 20:19:13,314 - INFO - [INFO] - Successfully deleted 0 documents with recurrence 'once' from pipeline collection
2025-11-08 20:19:13,315 - INFO - [INFO] - Deletion of once pipeline documents completed
2025-11-08 20:19:13,315 - INFO - [INFO] - Starting deletion of all weigh_factors documents
2025-11-08 20:19:13,598 - INFO - [INFO] - Successfully deleted 18 documents from 'weight_factors'.
2025-11-08 20:19:13,598 - INFO - [INFO] - All reset operations completed successfully
2025-11-08 20:20:10,133 - WARNING - [ERR-0001] - [e4979515] Attempting to extract JSON from text (length: 2958 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:10,135 - ERROR - [ERR-0104] - [626cbea9] Error getting AI weights | Exception: TypeError: log_info() takes 1 positional argument but 2 were given | From: helpers.py:get_ai_weights()
2025-11-08 20:20:24,275 - WARNING - [ERR-0001] - [c0b3888f] Attempting to extract JSON from text (length: 1248 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:24,276 - ERROR - [ERR-0104] - [78a650f7] Error getting AI weights | Exception: TypeError: log_info() takes 1 positional argument but 2 were given | From: helpers.py:get_ai_weights()
2025-11-08 20:20:42,664 - WARNING - [ERR-0001] - [14d01b80] Attempting to extract JSON from text (length: 168 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,666 - ERROR - [ERR-0001] - [59e65ed5] Failed to extract any valid JSON from text | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,666 - ERROR - [ERR-0001] - [29301775] Text preview: Error generating content: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'Resource has been exhausted (e.g. check quota).', 'status': 'RESOURCE_EXHAUSTED'}}... | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,666 - WARNING - [ERR-0001] - [f1f632ff] Attempting to extract JSON from text (length: 168 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,666 - ERROR - [ERR-0001] - [2a920cc6] Failed to extract any valid JSON from text | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,666 - ERROR - [ERR-0001] - [3e7c29b3] Text preview: Error generating content: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'Resource has been exhausted (e.g. check quota).', 'status': 'RESOURCE_EXHAUSTED'}}... | From: helpers.py:extract_json_from_text()
2025-11-08 20:20:42,668 - ERROR - [ERR-0001] - [959f1135] Failed to extract valid JSON from AI response | From: holistic.py:run_holistic_market_model()
2025-11-08 20:20:42,669 - WARNING - [WARN-0002] - [b8854520] Raw response content: Error generating content: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'Resource has been exhausted (e.g. check quota).', 'status': 'RESOURCE_EXHAUSTED'}}... | From: holistic.py:run_holistic_market_model()
2025-11-08 20:21:52,835 - WARNING - [ERR-0001] - [9fc90279] Attempting to extract JSON from text (length: 38542 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:21:52,838 - WARNING - [ERR-0001] - [953d5f77] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:21:52,838 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:21:59,490 - WARNING - [ERR-0001] - [1a175be2] Attempting to extract JSON from text (length: 46917 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:21:59,492 - WARNING - [ERR-0001] - [b3611dd7] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:21:59,492 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:06,337 - WARNING - [ERR-0001] - [c4f67136] Attempting to extract JSON from text (length: 38731 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:06,339 - WARNING - [ERR-0001] - [f82c1ff5] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:06,339 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:06,608 - WARNING - [ERR-0001] - [501b8f38] Attempting to extract JSON from text (length: 52953 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:06,610 - WARNING - [ERR-0001] - [05769191] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:06,611 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:21,732 - WARNING - [ERR-0001] - [af895baa] Attempting to extract JSON from text (length: 66265 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:21,735 - WARNING - [ERR-0001] - [0402fa4a] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:21,735 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:22,220 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:22,224 - INFO - [INFO] - Market state - Net Order: 189, Sentiment: 0.4923, Price Change: 94.5855, New Price: 194.5855
2025-11-08 20:22:23,493 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['HWM']
2025-11-08 20:22:26,070 - WARNING - [ERR-0001] - [8bce145e] Attempting to extract JSON from text (length: 62442 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:26,073 - WARNING - [ERR-0001] - [6f20d48d] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:26,073 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:26,911 - WARNING - [ERR-0001] - [45ab5484] Attempting to extract JSON from text (length: 57519 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:26,915 - WARNING - [ERR-0001] - [54eb6814] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:26,916 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:28,980 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:28,982 - INFO - [INFO] - Market state - Net Order: -168, Sentiment: -0.5481, Price Change: -83.9233, New Price: 16.0767
2025-11-08 20:22:30,167 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['MDLZ']
2025-11-08 20:22:35,219 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:35,221 - INFO - [INFO] - Market state - Net Order: -252, Sentiment: -0.5015, Price Change: -125.9421, New Price: -25.9421
2025-11-08 20:22:36,517 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['PANW']
2025-11-08 20:22:36,982 - WARNING - [ERR-0001] - [e4b07606] Attempting to extract JSON from text (length: 49679 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:36,985 - WARNING - [ERR-0001] - [5c450d52] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:36,985 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:40,849 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:40,851 - INFO - [INFO] - Market state - Net Order: 180, Sentiment: 0.6939, Price Change: 90.0256, New Price: 190.0256
2025-11-08 20:22:40,951 - WARNING - [ERR-0001] - [d888af00] Attempting to extract JSON from text (length: 62418 chars) | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:40,953 - WARNING - [ERR-0001] - [c94ba5c1] Successfully extracted JSON using end object pattern | From: helpers.py:extract_json_from_text()
2025-11-08 20:22:40,954 - INFO - [INFO] - Successfully parsed AI response as JSON
2025-11-08 20:22:41,575 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:41,577 - INFO - [INFO] - Market state - Net Order: 333, Sentiment: 0.7005, Price Change: 166.471, New Price: 266.471
2025-11-08 20:22:42,043 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['PSX']
2025-11-08 20:22:43,019 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['ISRG']
2025-11-08 20:22:49,639 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:49,641 - INFO - [INFO] - Market state - Net Order: 264, Sentiment: 0.6621, Price Change: 132.0081, New Price: 232.0081
2025-11-08 20:22:51,118 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['MMC']
2025-11-08 20:22:52,983 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:52,984 - INFO - [INFO] - Market state - Net Order: 198, Sentiment: 0.6491, Price Change: 99.1421, New Price: 199.1421
2025-11-08 20:22:55,256 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['CME']
2025-11-08 20:22:58,563 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:22:58,566 - INFO - [INFO] - Market state - Net Order: -156, Sentiment: -0.5962, Price Change: -78.1011, New Price: 21.8989
2025-11-08 20:22:59,749 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['FITB']
2025-11-08 20:23:05,601 - INFO - [INFO] - Time step t=1 starting
2025-11-08 20:23:05,603 - INFO - [INFO] - Market state - Net Order: 204, Sentiment: 0.5455, Price Change: 101.9919, New Price: 201.9919
2025-11-08 20:23:07,079 - INFO - [INFO] - Updated document_generated flag to True for tickers: ['HAL']
2025-11-08 20:23:36,662 - INFO - [INFO] - Batch cycle completed. Processed: 10 tickers, 2 pipelines. Remaining: 382 tickers, 1 pipelines
2025-11-08 20:23:36,772 - INFO - [INFO] - Memory before cleanup: 2597.0 KB
